---
title: "Taller 1"
format: html
author: Mat√≠as Montero
---

![](images/logo-ie-ciae.gif){fig-align="left" width="200"}

# Introducci√≥n a R üë®üèΩ‚Äçüíªüìà

Hola, ¬°bienvenido a R! R es un lenguaje de programaci√≥n de c√≥digo abierto con una apasionada comunidad global y utilizado en diversos campos disciplinares. Ha sido dise√±ado espec√≠ficamente para el an√°lisis estad√≠stico y la visualizaci√≥n de datos, pero es ampliamente flexible. Por ejemplo, sus extensiones han dado forma a la creaci√≥n de sitios web, aplicaciones, e incluso el documento que estas leyendo ahora mismo.

## Instalaci√≥n de R y RStudio

Para empezar a utilizar R y RStudio, primero debes instalarlos en tu computador. Vamos paso a paso para instalarlo seg√∫n el sistema operativo (Windows, macOS y Linux) que tengas.

### Paso 1: Instalaci√≥n de R

1.  **Visita el sitio oficial de CRAN**:
    -   Abre tu navegador web y dir√≠gete al sitio de descarga de R en [The Comprehensive R Archive Network](https://cran.r-project.org/) (CRAN).
2.  **Selecciona tu sistema operativo**:
    -   En la p√°gina de CRAN, ver√°s enlaces para diferentes sistemas operativos. Haz clic en el enlace de tu sistema operativo (Windows, macOS o Linux).
3.  **Descarga e instala R**:
    -   Sigue las instrucciones espec√≠ficas para tu sistema operativo:
        -   **Windows**: Haz clic en "Download R for Windows" y luego en "base". Descarga el instalador ejecutable (.exe) y √°brelo. Sigue las instrucciones del instalador para completar la instalaci√≥n.
        -   **macOS**: Haz clic en "Download R for macOS". Descarga el archivo de paquete (.pkg) y √°brelo. Sigue las instrucciones del instalador para completar la instalaci√≥n.
        -   **Linux**: Sigue las instrucciones espec√≠ficas para tu distribuci√≥n de Linux en la secci√≥n correspondiente de CRAN. Generalmente, esto implicar√° agregar un repositorio CRAN a tu gestor de paquetes y luego instalar R usando tu gestor de paquetes (por ejemplo, `sudo apt-get install r-base` para Ubuntu).

### Paso 2: Instalaci√≥n de RStudio

1.  **Visita el sitio oficial de RStudio**:
    -   Abre tu navegador web y dir√≠gete al sitio web Posit para descargar el instalador: [RStudio Download](#0).
2.  **Descarga el instalador de RStudio**:
    -   En la p√°gina de descarga, ver√°s diferentes opciones de instalador para distintos sistemas operativos. Haz clic en el enlace correspondiente a tu sistema operativo.
3.  **Instala RStudio**:
    -   Sigue las instrucciones espec√≠ficas del instalador:
        -   ü™ü **Windows**: Descarga el instalador ejecutable (.exe) y √°brelo. Sigue las instrucciones del instalador para completar la instalaci√≥n.
        -   üçé **macOS**: Descarga el archivo de paquete (.dmg) y √°brelo. Arrastra el √≠cono de RStudio a tu carpeta de Aplicaciones.
        -   üêß **Linux**: Descarga el archivo de paquete adecuado para tu distribuci√≥n (por ejemplo, .deb para Ubuntu o .rpm para Fedora). Abre una terminal y usa tu gestor de paquetes para instalar el archivo (por ejemplo, `sudo dpkg -i rstudio-x.yy.zz-amd64.deb` para Ubuntu).
        -   Una vez completada la instalaci√≥n de R y RStudio, abre RStudio y ¬°listo!

De ahora en adelante emplearemos RStudio, que es la interfaz que nos permite utilizar R de una forma algo m√°s amigable. Digo "m√°s amigable" porque en realidad, aunque en un principio lo percibas algo cr√≠ptico esto de analizar datos usando c√≥digo, en realidad ver√°s que en estas gu√≠as de paso a paso te abrir√°n las puertas para descubrir este (nuevo) universo con mucha facilidad.

::: callout-tip
## ¬øSab√≠as que? Tambi√©n puedes colaborar en R con tus colegas usando [Posit Cloud](https://posit.cloud/). Es algo as√≠ como un Google Docs en la nube, pero en R.
:::

Te invito a que crees un gui√≥n (R Script)üìã en RStudio dirigi√©ndote en la esquina superior izquierda de la pantalla.

![](gif1.gif){width="400"}

Como podr√°s haber notado, la interfaz de RStudio est√° organizada en varios paneles, cada uno con un prop√≥sito:

1.  **Panel de Script (arriba a la izquierda):** Aqu√≠ es donde escribes y editas tu c√≥digo R. Puedes guardar tus scripts como archivos .R para usarlos m√°s tarde.

2.  **Panel de Consola (abajo a la izquierda):** Muestra los resultados de la ejecuci√≥n de tu c√≥digo, mensajes de error y advertencias. Tambi√©n, puedes escribir comandos directamente en la consola.

3.  **Panel de Entorno/Historia (arriba a la derecha):**

    -   **Entorno:** Muestra las variables, funciones y objetos de datos que has creado en tu sesi√≥n actual de R.
    -   **Historia:** Registra los comandos que has ejecutado anteriormente.

4.  **Panel de Archivos/Gr√°ficos/Ayuda/Visualizador (abajo a la derecha):**

    -   **Archivos:** Explora los archivos y directorios de tu proyecto.
    -   **Gr√°ficos:** Muestra los gr√°ficos que creas en R.
    -   **Ayuda:** Accede a la documentaci√≥n de R y a los archivos de ayuda de los paquetes instalados.
    -   **Visualizador:** Examina objetos de datos como tablas y marcos de datos en un formato m√°s f√°cil de leer.

::: callout-note
La interfaz de RStudio es altamente personalizable, permiti√©ndote ordenar los paneles de la manera que prefieras y ajustar la apariencia del entorno para adaptarlo a tu gusto. ¬°S√≠! Puedes ponerlo en color oscuro y colores c√°lidos, en lugar del aspecto blanco predeterminado, y as√≠ no da√±ar tus lindos ojitos üëÄüåü
:::

## Conceptos B√°sicosüîß

Clarifiquemos primero algunos t√©rminos que com√∫nmente decimos en R. Te presento primero los objetos.

::: callout-note
## Si√©ntete libre de copiar y pegar el c√≥digo de este taller en tu propio script. Para ejecutar una l√≠nea de c√≥digo, simplemente sit√∫ate en la l√≠nea y teclea CNTRL + Enter, mientras que en Mac es CMD + Enter.
:::

```{r}
# Aqu√≠ asignamos un valor num√©rico a un objeto "X"
x <- 7
x

# Aqu√≠ creamos un vector de n√∫meros concatenados
NumVar <- c(5, 3, 4)
NumVar

# Los vectores pueden estar concatenados con informaci√≥n de tipo texto o caracteres
CharVar <- c("verde", "amarillo", "verde")
CharVar

# Tambi√©n utilizamos datos de tipo factor para representar datos categ√≥ricos
factores <- factor(c("femenino", "masculino", "masculino", "femenino"))

# Aunque los factores tambi√©n pueden tener una l√≥gica ordinal
factores_ord <- factor(c("bajo", "medio", "alto", "alto"),
                       ordered = TRUE,
                       levels = c("bajo", "medio", "alto"))

factores
factores_ord

# Es posible almacenar valores l√≥gicos que asume solo dos valores posibles
hola <- c("TRUE", "FALSE", "FALSE", "TRUE")
hola

# A veces tendremos datos perdidos representados por NA
vector_con_na <- c(1, 2, NA, 4, 5)
vector_con_na

# R tambi√©n es capaz de manejar informaci√≥n de fechas y tiempo (hora)
fecha <- as.Date("2024-07-24")
fecha

fecha_hora <- as.POSIXct("2024-07-24 12:34:56")
fecha_hora

# Oh mira, con el s√≠mbolo de gato puedes anotar en el c√≥digo para que no olvides lo que haces
```

Como podr√°s haber intuido:

-   Un vector es una secuencia de datos del mismo tipo.
-   El nombre creado al objeto es completamente a nuestra elecci√≥n. Como ves en el ejemplo, puede llamarse `CharVar` o `hola`.

En general, trabajar√°s en R usando un `data.frame`, que significa cuadro de datos. Un data.frame es un objeto que almacena un conjunto de vectores que, a su vez, pueden ser vectores que almacenan informaci√≥n de tipo num√©rica, factores, entre otros. Com√∫nmente, los vectores dentro de un `data.frame` se les conoce como variables, las cuales son las columnas que almacenan atributos de la unidad de observaci√≥n de nuestro conjunto de datos representados en las filas. Por ejemplo, las filas pueden ser estudiantes, escuelas, pa√≠ses, mientras que las columna ser√°n sus atributos (e.g., g√©nero).

### Ejercicio 1: Creando tu primer `data.frame()` üï∏Ô∏è

En el gui√≥n de R que generaste en tu sesi√≥n de RStudio, crea un vector llamado `edad` que concatene cinco valores num√©ricos. Tambi√©n, crea un vector llamado `nombre` que concatene cinco nombres de personas de tipo caracteres.

::: callout-tip
## Crea los vectores como objetos. Luego, utiliza la funci√≥n `data.frame()` para almacenarlos.
:::

Sobre este `data.frame` podr√°s calcular diferentes estad√≠sticos como un promedio o desviaci√≥n est√°ndar.

### Ejercicio 2: Explorar un data frame üîç

Crea un objeto llamado `CarTab` empleando los datos `mtcars`, el cual son datos de ejemplo de la revista Motor Trend US de 1974, donde cada fila es un auto y sus diferentes atributos (variables). Luego, sobre el objeto `CarTab`, emplea los comandos `class()`, `str()`, `head()`, y `summary()`. Termina calculando el promedio de la variable `hp` usando la funci√≥n `mean()`.

::: callout-tip
## Escribe `CarTab` asign√°ndolo con `<-` y luego escribe `mtcars`. Para usar los comandos, escribe el comando respectivo y entre los par√©ntesis escribe el nombre de objeto `CarTab`. Para el comando `mean()` tendr√°s que especificar la columna con `$` del objeto.
:::

Resumiendo, puedes manejar diferentes tipos de datos en R: - Num√©ricos: N√∫meros enteros y decimales. - Caracteres: Cadenas de texto. - Factores: Datos categ√≥ricos ordenados o no ordenados. - Fechas: Informaci√≥n de tiempo en un formato de fecha, que tambi√©n puede incluir hora. - L√≥gicos: Valores de verdad (`TRUE` o `FALSE`). - Datos perdidos: Informaci√≥n faltante (`NA`) en un conjunto de datos.

### Ejercicio 3: Gr√°ficos B√°sicos

En este ejercicio, vamos a crear gr√°ficos b√°sicos utilizando el objeto `CarTab`.

1.  **Crea un gr√°fico de dispersi√≥n**:
    -   Muestra la relaci√≥n entre las variables `hp` (caballos de fuerza) y `mpg` (millas por gal√≥n) del conjunto de datos `CarTab`. Para ello, usa el comando `plot()` indexando el cuadro de datos `CarTab` con el signo `$` con las variables mencionadas anteriormente, separ√°ndolos por coma.
2.  **Dale color** üé®:
    -   Muestra la relaci√≥n entre las mismas variables, pero esta vez colorea los puntos de azul. Tendr√°s que ocupar, dentro de ``` plot(datos$variable1,``datos$variable2``) ```, el argumento `col = ""` con el nombre del color que desees en ingl√©s (e.g., "red"). Recuerda anteponer una coma `,` para separar los argumentos de un comando.
3.  **Crea un histograma**:
    -   Muestra la distribuci√≥n de la variable `qsec` (cuarto de milla en segundos) usando el comando `hist()`.

::: callout-tip
Los gr√°ficos son √∫tiles para visualizar relaciones y distribuciones de datos. Elige el tipo de gr√°fico seg√∫n tus preguntas de investigaci√≥n y el tipo de an√°lisis que necesites.
:::

### Ejercicio 4: Transformaci√≥n de Variables

En este ejercicio, aprender√°s a crear nuevas variables a partir de las existentes en el objeto `CarTab`.

::: callout-tip
Transformar variables te permite crear nuevos indicadores y categor√≠as para an√°lisis m√°s sofisticados.
:::

1.  **Crea una nueva variable `rhpwt`**:
    -   Calcula una divisi√≥n entre `hp` (caballos de fuerza) y `wt` (peso en miles de libras) y almac√©nala en una nueva variable `rhpwt`.

::: callout-tip
Usa el operador de divisi√≥n `/` para calcularlo y guarda el resultado en `CarTab` index√°ndolo con el signo `$`.
:::

2.  **Crea una variable categ√≥rica `Rapido`**:
    -   Utiliza la funci√≥n `ifelse` para crear una nueva variable `Rapido` que tome el valor 1 si `qsec` es menor a 18, y 0 en caso contrario.

::: callout-tip
La funci√≥n ifelse() tiene la estructura: `ifelse(condici√≥n, valor_si_verdadero, valor_si_falso)`. √ösala para crear la variable `Rapido` basada en la condici√≥n l√≥gica anterior. Usa el operador l√≥gico `<`.
:::

### Ejercicio 5: Indexaci√≥n o Extracci√≥n de Datos

En este ejercicio, aprender√°s a extraer subconjuntos de datos del objeto `CarTab`.

1.  **Extrae un subconjunto de datos**:
    -   Extrae las columnas `qsec` y `Rapido` y almac√©nalas en un nuevo objeto llamado `Sub_CarTab`.

::: callout-tip
Usa la notaci√≥n de corchetes ``` []`` para seleccionar columnas espec√≠ficas de un data frame. La sintaxis es ```nombre_de_tu_data_frame\[ , c("nombre_columna1", "nombre_columna2"\]\`.
:::

### Ejercicio 6: Regresi√≥n

En este ejercicio, estimar√°s un modelo de regresi√≥n lineal utilizando el objeto `CarTab`.

1.  **Ajusta un modelo de regresi√≥n lineal**:
    -   Ajusta un modelo de regresi√≥n lineal que prediga `qsec` en funci√≥n de `hp` y `wt` asignado con `<-` a un objeto que lo llamar√°s `mod1`.

::: callout-tip
La funci√≥n `lm()` ajusta modelos de regresi√≥n lineal. La estructura es `lm(formula, data)`, donde `formula` es una f√≥rmula de la forma `variable_dependiente ~ predictor1 + predictor2`. Usa `summary()` para obtener las estimaciones del modelo ajustado, por ejemplo `summary(lm(qsec ~ hp + wt, data = CarTab))`.
:::

::: callout-tip
Al final de este documento encontrar√°s las soluciones a los ejercicios.
:::

# An√°lisis Descriptivo

¬øC√≥mo se ve un flujo de trabajo inicial de an√°lisis de datos en R? Un flujo de trabajo t√≠pico de an√°lisis de datos en R comienza con la configuraci√≥n del directorio de trabajo. El directorio de trabajo es la carpeta en la que se almacenar√°n tu script, datos, y los diferentes archivos resultantes de tu an√°lisis, como tablas y gr√°ficos. Establecer el directorio de trabajo te permite organizar tus archivos de manera eficiente y asegura que R sepa d√≥nde buscar y guardar archivos.

## ¬øC√≥mo establecer tu directorio de trabajo?

1.  **Encuentra la ruta del directorio de trabajo**:
    -   **Windows**:
        -   Abre el Explorador de archivos y navega hasta la carpeta donde quieres almacenar tus archivos.
        -   Haz clic en la barra de direcciones y copia la ruta completa.
    -   **macOS**:
        -   Abre el Finder y navega hasta la carpeta donde quieres almacenar tus archivos.
        -   Haz clic derecho en la carpeta, selecciona "Obtener informaci√≥n" y copia la ruta que aparece en "D√≥nde".
2.  **Establece el directorio de trabajo en R**:
    -   Usa la funci√≥n `setwd()` para establecer el directorio de trabajo. La ruta debe estar entre comillas y utilizar barras diagonales (`/`) en lugar de barras invertidas (`\`).

```{r message=FALSE, warning=FALSE}
# setwd("C:/tu_ruta/del_computador/que_estas/usando")
# Ejemplo para Windows: setwd("C:/Users/TuNombre/Magister/MetCuant")
# Ejemplo para macOS: setwd("/Users/TuNombre/Magister/MetCuant")
```

-   Puedes verificar el directorio de trabajo actual utilizando la funci√≥n `getwd()`, que te mostrar√° la ruta del directorio de trabajo establecido.

::: callout-warning
Organiza tus archivos en subcarpetas dentro de tu directorio de trabajo, por ejemplo, `data` para datos brutos, `scripts` para tus guiones de R, y `outputs` para resultados como gr√°ficos y tablas. Te recomiendo el protocolo IPO que puedes ver [aqu√≠](https://lisa-coes.com/ipo-repro/) para organizar tus carpetas. Con esto, tendr√°s un flujo de trabajo ordenado, y tu futuro yo te lo agradecer√°.
:::

## Instalaci√≥n de Paquetes

Para llevar a cabo an√°lisis de datos en R, a menudo necesitamos paquetes adicionales que no vienen incluidos en la instalaci√≥n base de R. Estos paquetes contienen funciones y datasets adicionales que facilitan diversas tareas.

1.  **Instalaci√≥n de Paquetes**:
    -   Usa la funci√≥n `install.packages()` para instalar los paquetes necesarios.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
options(repos = c(CRAN = "https://cran.r-project.org"))
install.packages("readxl")   # Paquete para importar datos en formato Excel}
install.packages("janitor")  # Paquete para limpieza de datos
install.packages("ggplot2")  # Paquete para generar gr√°ficos
```

2.  **Carga de Paquetes**:
    -   Despu√©s de instalar los paquetes, usa la funci√≥n `library()` para cargarlos en tu sesi√≥n de R.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
library(readxl)
library(janitor)
library(ggplot2)
```

## Importar Datos

Para importar datos en R desde un archivo Excel, usaremos el paquete `readxl`.

1.  **Importa los datos**:
    -   Usa la funci√≥n `read_excel()` para leer los datos de un archivo Excel y almacenarlos en un data frame. Aseg√∫rate tener descargado el archivo Excel `Base-Personal-Academico-2021_SIES.xlsx` en tu directorio de trabajo.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
personal_2021 <- read_excel("Base-Personal-Academico-2021_SIES.xlsx")
```

2.  **Visualiza los datos**:
    -   Usa la funci√≥n `View()` para abrir una nueva ventana y visualizar la base de datos.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
View(personal_2021)
```

## Limpieza de Datos

Los nombres de las variables en la base de datos pueden necesitar limpieza para ser m√°s manejables.

1.  **Limpia los nombres de las variables**:
    -   Usa la funci√≥n `clean_names()` del paquete `janitor` para estandarizar los nombres de las variables.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
personal_2021  <- clean_names(personal_2021)
```

2.  **Exploremos los datos**:
    -   Usa diversas funciones para obtener una visi√≥n general de los datos.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
class(personal_2021)    # Muestra la clase de objeto de personal_2021
head(personal_2021)     # Muestra los primeros 6 casos en la base de datos
names(personal_2021)    # Lista los nombres de las variables en la base de datos
dim(personal_2021)      # Muestra el n√∫mero de variables y casos
summary(personal_2021)  # Entrega estad√≠sticos descriptivos para cada variable
str(personal_2021)      # Muestra la estructura interna de la base de datos
```

### Generaci√≥n de Nuevas Variables

1.  **Crear una nueva variable `tipo_ies`**:
    -   Primero, genera una nueva variable `tipo_ies` que inicialmente sea igual a `codigo_institucion`.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
personal_2021$tipo_ies <- personal_2021$codigo_institucion
```

2.  **Asignar valores a `tipo_ies` seg√∫n `codigo_institucion`**:
    -   Usa el operador de asignaci√≥n `<-` para clasificar las instituciones en diferentes tipos.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
### 1: Universidad Estatal CRUCH.
personal_2021$tipo_ies[personal_2021$codigo_institucion == 70] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 71] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 72] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 73] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 74] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 75] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 76] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 77] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 78] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 79] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 80] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 81] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 82] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 83] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 84] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 85] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 895] <- 1
personal_2021$tipo_ies[personal_2021$codigo_institucion == 896] <- 1

### 2: Universidad Privada CRUCH.
personal_2021$tipo_ies[personal_2021$codigo_institucion == 3] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 34] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 69] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 86] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 87] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 88] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 89] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 90] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 91] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 92] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 93] <- 2
personal_2021$tipo_ies[personal_2021$codigo_institucion == 94] <- 2

### 3: Universidad Privada.
personal_2021$tipo_ies[personal_2021$codigo_institucion == 1] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 2] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 4] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 7] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 9] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 10] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 11] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 13] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 17] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 19] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 20] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 22] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 23] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 26] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 31] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 38] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 39] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 42] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 45] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 46] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 48] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 50] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 54] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 68] <- 3
personal_2021$tipo_ies[personal_2021$codigo_institucion == 651] <- 3

### 4: Instituto Profesional.
personal_2021$tipo_ies[personal_2021$codigo_institucion == 99] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 100] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 101] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 103] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 104] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 106] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 108] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 111] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 113] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 116] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 117] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 120] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 123] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 129] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 132] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 137] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 138] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 139] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 143] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 144] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 152] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 155] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 162] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 165] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 170] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 171] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 176] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 193] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 676] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 693] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 714] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 743] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 754] <- 4
personal_2021$tipo_ies[personal_2021$codigo_institucion == 767] <- 4

### 5: Centro de Formaci√≥n T√©cnica.
personal_2021$tipo_ies[personal_2021$codigo_institucion == 214] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 218] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 229] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 236] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 241] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 257] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 260] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 273] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 280] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 305] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 312] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 319] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 328] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 331] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 367] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 374] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 382] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 390] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 398] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 426] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 427] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 430] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 435] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 450] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 456] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 492] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 498] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 534] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 536] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 591] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 629] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 633] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 691] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 701] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 730] <- 5
personal_2021$tipo_ies[personal_2021$codigo_institucion == 258] <- 5

### 6: Centros de Formaci√≥n T√©cnica Estatales.
personal_2021$tipo_ies[personal_2021$codigo_institucion == 902] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 906] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 908] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 909] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 910] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 911] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 912] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 913] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 914] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 915] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 916] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 917] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 918] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 919] <- 6
personal_2021$tipo_ies[personal_2021$codigo_institucion == 920] <- 6
```

### Visualizaci√≥n y Etiquetado de Datos

1.  **Visualiza los valores generados**:

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
personal_2021$tipo_ies
```

2.  **Asigna etiquetas a los valores generados**:
    -   Usa la funci√≥n `factor()` para asignar etiquetas a los valores de `tipo_ies`.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
personal_2021$tipo_ies_n <- factor(personal_2021$tipo_ies,
                                   levels = c(1, 2, 3, 4, 5, 6),
                                   labels = c("U. ESTATAL", "U. PRIVADA CRUCH",
                                              "U. PRIVADA", "IP", "CFT PRIVADO",
                                              "CFT ESTATAL"))
```

## Selecci√≥n de Subconjuntos de Datos

Para trabajar con subconjuntos espec√≠ficos de datos, puedes usar la funci√≥n `subset()` o la notaci√≥n de corchetes `[]`.

1.  **Selecciona un subconjunto de datos**:
    -   Filtra las filas del data frame seg√∫n la nueva variable categ√≥rica `tipo_ies_n`.

```{r message=FALSE, warning=FALSE, echo=TRUE, results='hide'}
personal_2021_uestatal <- personal_2021[which(personal_2021$tipo_ies_n == "U. ESTATAL"),]
```

## Soluciones de los Ejercicios

### Ejercicio 1

```{r message=FALSE, warning=FALSE}
edad <- c(40, 5, 16, 28, 32)
nombre <- c("Daniel", "Mariela", "Miguel", "Pablo", "Javiera")
misdatos <- data.frame(nombre, edad)
misdatos
```

### Ejercicio 2

```{r message=FALSE, warning=FALSE}
CarTab <- mtcars
class(CarTab)
CarTab
str(CarTab)
head(CarTab)
summary(CarTab)
mean(CarTab$hp)
```

### Ejercicio 3

```{r message=FALSE, warning=FALSE}
plot(CarTab$hp, CarTab$mpg)
plot(CarTab$hp, CarTab$mpg, col = "blue")
hist(CarTab$qsec)
```

### Ejercicio 4

```{r message=FALSE, warning=FALSE}
CarTab$rhpwt <- CarTab$hp/CarTab$wt
CarTab$rhpwt
CarTab$Rapido <- ifelse(CarTab$qsec<18,1,0)
CarTab
```

### Ejercicio 5

```{r message=FALSE, warning=FALSE}
Sub_CarTab <- CarTab[ , c("qsec", "Rapido")]
Sub_CarTab
```

### Ejercicio 6

```{r message=FALSE, warning=FALSE}
CarTab <- mtcars
mod1 <- lm(qsec ~ hp + wt, data = CarTab)
summary(mod1)
```

::: callout-important
## Para citar este archivo Quarto, por favor, considera este formato: Montero, M., Ortega, L. & Rodr√≠guez, P. (2024). Metodolog√≠a Cuantitativa II 2024 \[Repositorio\]. GitHub. https://github.com/monteromati/Metodologia-Cuantitativa-II-2024
:::
