---
title: "Taller 4"
date: "`r format(Sys.Date(), '%d %B %Y')`"
format: html
editor: 
  markdown: 
    wrap: 72
---

![](logo-ie-ciae.gif){fig-align="left" width="200"}

# Taller de An谩lisis de Moderaci贸n y Mediaci贸n 

En este taller, aprenderemos a realizar an谩lisis de moderaci贸n y mediaci贸n. Estos tipos de an谩lisis son fundamentales en la investigaci贸n educacional para comprender c贸mo y cu谩ndo ciertas variables afectan resultados educativos. A lo largo del taller, trabajaremos con datos SIMCE 2018 de segundo medio y exploraremos c贸mo el g茅nero de los estudiantes puede moderar la relaci贸n entre el autoconcepto en matem谩ticas y rendimiento, y c贸mo el ingreso familiar se asocia con el rendimiento en lenguaje a trav茅s de las expectativas de los padres.

## Instalaci贸n y Carga de Librer铆as

Para empezar, es necesario instalar y cargar algunas librer铆as que utilizaremos en este taller. Solo utilizaremos `ggplot2` que es una de las librer铆as m谩s populares para la visualizaci贸n de datos en R, mientras que las dem谩s funciones que utilizaremos ya vienen en el paquete base de R.

```{r}
install.packages("ggplot2")
library(ggplot2)
```

## Configuraci贸n del Directorio de Trabajo
Como parte de la rutina de an谩lisis de datos, establecemos el directorio.

```{r}
setwd("C:/Users/lcort/Downloads/")
```

## Carga de Datos
Trabajaremos con varias bases de datos del SIMCE 2018. A continuaci贸n, cargamos los datos de los puntajes de los estudiantes, sus respuestas al cuestionario, y las respuestas de los padres/apoderados al cuestionario SIMCE.

```{r}
# Cargar datos de puntajes SIMCE a nivel de estudiantes
palu <- read.table("simce2m2018_alu_privada_final-SEG.txt", header = TRUE, sep = "|", dec = ".")

# Cargar datos del cuestionario de estudiantes
cest <- read.table("simce2m2018_cest_privada_final-SEG.txt", header = TRUE, sep = "|", dec = ".")

# Cargar datos del cuestionario de padres/apoderados
cpad <- read.table("simce2m2018_cpad_privada_final-SEG.txt", header = TRUE, sep = "|", dec = ".")
```

## Fusi贸n de Bases de Datos
Para realizar nuestros an谩lisis, necesitamos combinar las bases de datos en una sola, utilizando la variable `idalumno` como llave para la fusi贸n. Este tipo de procedimientos es muy com煤n en preparaci贸n de datos y permite trabajar con m煤ltiples bases de datos que contengan una variable de identificador en com煤n que individualiza la unidad de observaci贸n de los datos. En este caso son los estudiantes, quienes son la unidad de observaci贸n y 煤nicos en tanto no se repiten a lo largo de las filas.

```{r}
total <- merge(palu, cest, by = "idalumno", all = TRUE)
```

### Carga y Fusi贸n Adicional de Datos
Tambi茅n cargamos y fusionamos datos del cuestionario de padres/apoderados para completar nuestra base de datos.

```{r}
total <- merge(total, cpad, by = "idalumno", all = TRUE)
```

## Exploraci贸n de la Base de Datos
Siempre es 煤til revisar la estructura de la base de datos despu茅s de fusionar para asegurarnos de que todo est茅 en orden.

```{r}
str(total)
```